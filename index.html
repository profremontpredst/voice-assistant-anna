<!DOCTYPE html>
<html lang="ru">
<head>
  <!-- Top.Mail.Ru counter -->
<script type="text/javascript">
var _tmr = window._tmr || (window._tmr = []);
_tmr.push({id: "3687139", type: "pageView", start: (new Date()).getTime()});
(function (d, w, id) {
  if (d.getElementById(id)) return;
  var ts = d.createElement("script"); ts.type = "text/javascript"; ts.async = true; ts.id = id;
  ts.src = "https://top-fwz1.mail.ru/js/code.js";
  var f = function () {var s = d.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ts, s);};
  if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); }
})(document, window, "tmr-code");
</script>
<noscript><div><img src="https://top-fwz1.mail.ru/counter?id=3687139;js=na" style="position:absolute;left:-9999px;" alt="Top.Mail.Ru" /></div></noscript>
<!-- /Top.Mail.Ru counter -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI –ë–æ—Ç: –¢–µ–∫—Å—Ç –∏ –ì–æ–ª–æ—Å</title>
  <link rel="icon" type="image/png" href="https://i.postimg.cc/jjPJ1kFK/87364622-f999-476a-9c1d-d778dc50c6a8-1-1.png">
  <style>
    body {
      margin: 0;
      background: linear-gradient(145deg, #0d1b2a, #1b263b);
      font-family: Arial, sans-serif;
      color: #fff;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    .tabs {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .tab-button {
      padding: 10px 20px;
      border: 1px solid #444;
      background-color: transparent;
      color: #ccc;
      cursor: pointer;
      margin: 0 10px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    .tab-button.active {
  background-color: #00f2ff;
  color: #000;
      background-color: #00f2ff;
      color: #fff;
    }
    .bots-wrapper {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .panel {
      flex: 1 1 400px;
      background-color: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 20px;
      opacity: 0.4;
      transition: all 0.3s ease;
    }
    .panel.active {
      opacity: 1;
    }
    .chat-box {
  min-height: 200px;
      max-height: 300px;
      overflow-y: auto;
      background-color: rgba(0,0,0,0.3);
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 10px;
    }
    .chat-input {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: none;
    }
    .waveform {
      width: 100%;
      height: 100px;
      background-image: linear-gradient(to right, #00f2ff 50%, transparent 0%);
      background-size: 20px 100%;
      animation: none;
    }
    .waveform.listening {
      animation: pulse 1s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }
    .mic-button {
      display: block;
      margin: 20px auto 0;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background-color: #00f2ff;
      border: none;
      background-image: url('https://img.icons8.com/ios-filled/50/ffffff/microphone.png');
      background-position: center;
      background-repeat: no-repeat;
      background-size: 50%;
      cursor: pointer;
    }
    .status {
      text-align: center;
      margin-top: 10px;
      font-size: 16px;
      color: #00f2ff;
    }
    .footer-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 30px;
      flex-wrap: wrap;
    }
    .footer-buttons button {
      padding: 10px 20px;
      background-color: transparent;
      border: 1px solid #00f2ff;
      color: #00f2ff;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .footer-buttons button:hover {
      background-color: #00f2ff;
      color: #000;
    }
    .features {
      margin-top: 80px;
      text-align: center;
    }
    .features h2 {
      font-size: 28px;
      margin-bottom: 40px;
    }
    .features-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    .feature-item {
      background-color: rgba(255,255,255,0.05);
      border-radius: 12px;
      padding: 20px;
      width: 200px;
      text-align: center;
      border: 1px solid rgba(0, 242, 255, 0.3);
    }
    .feature-item img {
      width: 40px;
      margin-bottom: 10px;
    }
    .feature-caption {
      font-size: 16px;
    }
    .smart-block {
      margin-top: 100px;
      background-color: rgba(255,255,255,0.03);
      border-radius: 20px;
      padding: 40px 20px;
      text-align: center;
    }
    .smart-block h2 {
      font-size: 28px;
      margin-bottom: 20px;
    }
    .smart-block ul {
      list-style: none;
      padding: 0;
      margin: 0 auto 30px;
      max-width: 600px;
      text-align: left;
    }
    .smart-block li {
      margin-bottom: 12px;
      padding-left: 24px;
      position: relative;
    }
    .smart-block li::before {
      content: "‚úî";
      position: absolute;
      left: 0;
      color: #00f2ff;
    }
    .smart-block .bottom-text {
      font-size: 16px;
      opacity: 0.7;
    }
    .value-prop {
      margin-top: 100px;
      text-align: center;
      padding: 40px 20px;
      background-color: rgba(255,255,255,0.02);
      border-radius: 20px;
    }
    .value-prop h2 {
      font-size: 28px;
      margin-bottom: 30px;
    }
    .value-grid {
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    .value-item {
      width: 250px;
      background-color: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 20px;
      border: 1px solid rgba(0, 242, 255, 0.3);
    }
    .value-item img {
      width: 40px;
      margin-bottom: 10px;
    }
    .value-item p {
      font-size: 16px;
    }
    @media (max-width: 768px) {
      .bots-wrapper {
        flex-direction: column;
      }
      .bots-wrapper .panel {
        display: none;
      }
      .bots-wrapper .panel.active {
        display: block;
        opacity: 1;
      }
      .smart-block ul {
        padding: 0 10px;
      }
      .value-grid {
        flex-direction: column;
        align-items: center;
      }
      .value-item {
        width: 90%;
      }
    }
  
    .how-we-work {
      margin-top: 100px;
      padding: 40px 20px;
      background-color: rgba(255,255,255,0.03);
      border-radius: 20px;
      text-align: left;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    .how-we-work h2 {
      text-align: center;
      font-size: 28px;
      margin-bottom: 20px;
    }
    .how-we-work ul {
      list-style: none;
      padding: 0;
    }
    .how-we-work li {
      margin-bottom: 20px;
      padding-left: 24px;
      position: relative;
    }
    .how-we-work li::before {
      content: "‚úî";
      position: absolute;
      left: 0;
      color: #00f2ff;
    }

</style>
</head>
<div style="text-align: center; position: relative; z-index: 10; padding: 20px 0;">
  <img src="https://i.ibb.co/LDrthZD4/87364622-f999-476a-9c1d-d778dc50c6a8-1.png"
       alt="Anna Logo"
       style="height: 100px; object-fit: contain;" />
</div>      
  <div class="container">
    <div class="tabs">
      <button class="tab-button active" onclick="switchTab('text')">–¢–µ–∫—Å—Ç–æ–≤—ã–π –±–æ—Ç</button>
      <button class="tab-button" onclick="switchTab('voice')">–ì–æ–ª–æ—Å–æ–≤–æ–π –±–æ—Ç</button>
    </div>
    <div class="bots-wrapper">
      <div id="text" class="panel active">
        <div class="chat-box"></div>
        <div style="display: flex; gap: 10px;">
  <input class="chat-input" id="chatInput" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="flex: 1;">
  <button onclick="sendMessage()" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å" style="padding:10px 20px; border:none; border-radius:8px; background-color:#00f2ff; color:#000; cursor:pointer;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="18" height="18" fill="black">
      <path d="M476 3.8c-3.6-1.5-7.6-1.5-11.2 0L36.3 189.7c-5.9 2.4-9.8 8.1-9.8 14.3s3.9 11.9 9.8 14.3l138.3 57.6 57.6 138.3c2.4 5.9 8.1 9.8 14.3 9.8 6.2 0 11.9-3.9 14.3-9.8L508.2 47.2c3.7-8.7-.2-18.6-9.6-23.4z"/>
    </svg>
  </button>
  <button onclick="startTextVoice()" title="–ì–æ–ª–æ—Å–æ–º" style="padding:10px 20px; border:none; border-radius:8px; background-color:#00f2ff; color:#000; cursor:pointer;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" width="18" height="18" fill="black">
      <path d="M192 256c0 17.7-14.3 32-32 32s-32-14.3-32-32V128c0-17.7 14.3-32 32-32s32 14.3 32 32V256zM160 320c35.3 0 64-28.7 64-64V128a64 64 0 1 0-128 0V256c0 35.3 28.7 64 64 64zm56 32H104c-13.3 0-24 10.7-24 24s10.7 24 24 24h24v56c0 13.3 10.7 24 24 24s24-10.7 24-24V400h24c13.3 0 24-10.7 24-24s-10.7-24-24-24z"/>
    </svg>
  </button>
</div>
      </div>
      <div id="voice" class="panel">
        <div class="waveform" id="waveform"></div>
        <button class="mic-button" onclick="startVoiceDialog()"></button>
        <div class="status" id="voice-status">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</div>
      </div>
    </div>
    <div class="footer-buttons">
      <button onclick="sendHotkey('–•–æ—á—É —Å–µ–±–µ —Ç–∞–∫–æ–≥–æ')">–•–æ—á—É —Å–µ–±–µ —Ç–∞–∫–æ–≥–æ</button>
      <button onclick="sendHotkey('–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç?')">–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç?</button>
      <button onclick="sendHotkey('–¢–µ—Å—Ç-–¥–æ—Å—Ç—É–ø')">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–µ—Å—Ç</button>
    </div>
    <div class="features">
  <h2>–ì–æ–ª–æ—Å–æ–≤–æ–π –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ê–Ω–Ω–∞</h2>
  <p style="text-align:center; font-size:18px; margin-bottom:40px; opacity:0.8;">
    –í–∞—à AI-—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –Ω–∞ –ø–µ—Ä–≤–æ–π –ª–∏–Ω–∏–∏
  </p>
  <div class="features-grid" style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
    
    <div class="feature-item" style="flex:1 1 200px; min-width:220px;">
      <img src="https://img.icons8.com/ios-filled/50/00f2ff/chat--v1.png" />
      <div class="feature-caption">
        –û–±—â–µ–Ω–∏–µ —Å –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–º —Å–∞–π—Ç–∞<br>
        <span style="opacity:0.8; font-size:13px;">–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã, —Å–æ—Ü—Å–µ—Ç–∏, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã</span>
      </div>
    </div>
    
    <div class="feature-item" style="flex:1 1 200px; min-width:220px;">
      <img src="https://img.icons8.com/ios-filled/50/00f2ff/phone.png" />
      <div class="feature-caption">
        –¢–µ–ª–µ—Ñ–æ–Ω–∏—è<br>
        –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–≤–æ–Ω–∫–∏ –∏ —Å–∞–º –ø–µ—Ä–µ–∑–≤–∞–Ω–∏–≤–∞–µ—Ç
      </div>
    </div>
    
    <div class="feature-item" style="flex:1 1 200px; min-width:220px;">
      <img src="https://img.icons8.com/ios-filled/50/00f2ff/code--v1.png" />
      <div class="feature-caption">
        –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π —Å–∞–π—Ç–∞<br>
        –ü–æ–∫–∞–∂–µ—Ç –Ω—É–∂–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      </div>
    </div>
    
    <div class="feature-item" style="flex:1 1 200px; min-width:220px;">
      <img src="https://img.icons8.com/ios-filled/50/00f2ff/order-history.png" />
      <div class="feature-caption">
        –ó–∞–∫–∞–∑—ã –∏ –∑–∞–ø–∏—Å–∏<br>
        –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, —É—Å–ª—É–≥–∏, –¥–æ—Å—Ç–∞–≤–∫–∞ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
      </div>
    </div>
    
    <!-- –†–ê–°–¢–Ø–ù–£–¢–´–ô CRM -->
    <div class="feature-item crm" style="flex:1 1 100%; max-width:100%;">
      <img src="https://img.icons8.com/ios-filled/50/00f2ff/share.png" />
      <div class="feature-caption">
        –†–∞–±–æ—Ç–∞ —Å CRM<br>
        –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bitrix24: –∑–≤–æ–Ω–∫–∏, –ø–µ—Ä–µ–ø–∏—Å–∫–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
      </div>
    </div>
    
  </div>
</div>
     <div class="how-assistant-works" style="margin-top: 100px; padding: 40px 20px; background-color: rgba(255,255,255,0.03); border-radius: 20px; text-align: left; max-width: 800px; margin-left: auto; margin-right: auto;">
  <h2 style="text-align: center; font-size: 28px; margin-bottom: 20px;">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ê–Ω–Ω–∞</h2>
  <ul style="list-style: none; padding: 0;">
    <li style="margin-bottom: 20px; padding-left: 24px; position: relative;">
      <span style="position:absolute; left:0; color:#00f2ff;">‚úî</span>
      <strong>–°–ª—É—à–∞–µ—Ç –∏ –ø–æ–Ω–∏–º–∞–µ—Ç</strong><br>–ö–ª–∏–µ–Ω—Ç –ø–∏—à–µ—Ç –∏–ª–∏ –∑–≤–æ–Ω–∏—Ç, –ê–Ω–Ω–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —Ä–µ—á—å –∏ —Å–º—ã—Å–ª –∑–∞–ø—Ä–æ—Å–∞.
    </li>
    <li style="margin-bottom: 20px; padding-left: 24px; position: relative;">
      <span style="position:absolute; left:0; color:#00f2ff;">‚úî</span>
      <strong>–û—Ç–≤–µ—á–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ</strong><br>–ù–µ –∑–∞—Å–∫—Ä–∏–ø—Ç–æ–≤–∞–Ω–Ω–æ, –∞ –ø–æ-—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏, –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—è—Å—å –ø–æ–¥ —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è.
    </li>
    <li style="margin-bottom: 20px; padding-left: 24px; position: relative;">
      <span style="position:absolute; left:0; color:#00f2ff;">‚úî</span>
      <strong>–ì–æ–≤–æ—Ä–∏—Ç –∂–∏–≤—ã–º –≥–æ–ª–æ—Å–æ–º</strong><br>–ó–≤—É—á–∏—Ç –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫, –∞ –Ω–µ —Ä–æ–±–æ—Ç. –î–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ –∏ –≤–æ–≤–ª–µ–∫–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
    </li>
    <li style="margin-bottom: 20px; padding-left: 24px; position: relative;">
      <span style="position:absolute; left:0; color:#00f2ff;">‚úî</span>
      <strong>–î–µ–ª–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è —Å–∞–º–∞</strong><br>–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª —Å–∞–π—Ç–∞, –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –∑–∞–∫–∞–∑, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é.
    </li>
    <li style="margin-bottom: 20px; padding-left: 24px; position: relative;">
      <span style="position:absolute; left:0; color:#00f2ff;">‚úî</span>
      <strong>–§–∏–∫—Å–∏—Ä—É–µ—Ç –≤—Å—ë –≤ CRM</strong><br>–ó–∞—è–≤–∫–∏, –∑–≤–æ–Ω–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–∞–∂–µ –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ –ø–æ–ø–∞–¥–∞—é—Ç –∫ –≤–∞–º –≤ —Å–∏—Å—Ç–µ–º—É.
    </li>
    <li style="margin-bottom: 0; padding-left: 24px; position: relative;">
      <span style="position:absolute; left:0; color:#00f2ff;">‚úî</span>
      <strong>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –ø–æ–º–æ–≥–∞–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä—É</strong><br>–°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –¥–∞—ë—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è.
    </li>
  </ul>
</div>
    </div>
    <div class="compare-block" style="margin-top:100px; padding:40px 20px; background-color:rgba(255,255,255,0.03); border-radius:20px; max-width:1000px; margin-left:auto; margin-right:auto;">
  <h2 style="text-align:center; font-size:28px; margin-bottom:30px;">–ê–Ω–Ω–∞ vs –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–µ—Ä–≤–æ–π –ª–∏–Ω–∏–∏ (–ö–¶)</h2>
  <div class="compare-grid" style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
    
    <!-- –ê–Ω–Ω–∞ -->
    <div class="compare-col" style="flex:1 1 280px; background-color:rgba(255,255,255,0.05); border:1px solid rgba(0,242,255,0.3); border-radius:16px; padding:20px; text-align:center;">
      <img src="https://img.icons8.com/ios-filled/50/00f2ff/artificial-intelligence.png" style="width:50px; margin-bottom:15px;" />
      <h3 style="color:#00f2ff; margin-bottom:15px;">–ê–Ω–Ω–∞</h3>
      <ul style="list-style:none; padding:0; text-align:left; font-size:15px;">
        <li style="margin-bottom:12px;">‚úî –†–∞–±–æ—Ç–∞–µ—Ç 24/7 –±–µ–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö</li>
        <li style="margin-bottom:12px;">‚úî –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–µ—Å—è—Ç–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤</li>
        <li style="margin-bottom:12px;">‚úî –ì–æ–≤–æ—Ä–∏—Ç –∂–∏–≤—ã–º –≥–æ–ª–æ—Å–æ–º –∏ –ø–∏—à–µ—Ç –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫</li>
        <li style="margin-bottom:12px;">‚úî –°—Ä–∞–∑—É –ø–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –≤ CRM</li>
        <li style="margin-bottom:12px;">‚úî –°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∏–∂–µ –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</li>
        <li style="margin-bottom:12px;">‚úî –£–º–µ–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞<br>
          <span style="opacity:0.8; font-size:13px;">(–∑–∞–ø–∏—Å—å –Ω–∞ –≤–µ–±–∏–Ω–∞—Ä, –ø–æ–¥–∞—Ä–æ–∫, –æ–ø—Ä–æ—Å, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ)</span>
        </li>
      </ul>
    </div>
    
    <!-- –ú–µ–Ω–µ–¥–∂–µ—Ä -->
    <div class="compare-col" style="flex:1 1 280px; background-color:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.1); border-radius:16px; padding:20px; text-align:center;">
      <img src="https://img.icons8.com/ios-filled/50/ffffff/user.png" style="width:50px; margin-bottom:15px;" />
      <h3 style="color:#fff; margin-bottom:15px;">–ú–µ–Ω–µ–¥–∂–µ—Ä –ö–¶</h3>
      <ul style="list-style:none; padding:0; text-align:left; font-size:15px;">
        <li style="margin-bottom:12px;">‚úò –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –≥—Ä–∞—Ñ–∏–∫—É</li>
        <li style="margin-bottom:12px;">‚úò –ú–æ–∂–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ 1 –∫–ª–∏–µ–Ω—Ç–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</li>
        <li style="margin-bottom:12px;">‚úò –£—Å—Ç–∞—ë—Ç, –æ—à–∏–±–∞–µ—Ç—Å—è, —Ç—Ä–µ–±—É–µ—Ç –æ–±—É—á–µ–Ω–∏–µ</li>
        <li style="margin-bottom:12px;">‚úò –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤–Ω–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ CRM</li>
        <li style="margin-bottom:12px;">‚úò –ó–∞—Ä–ø–ª–∞—Ç–∞ + –Ω–∞–ª–æ–≥–∏ + –æ—Ç–ø—É—Å–∫</li>
        <li style="margin-bottom:12px;">‚úò –ù–µ —É–º–µ–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –æ–∫–Ω–∞ –∏ —Å–ø–µ—Ü-–º–µ—Ö–∞–Ω–∏–∫–∏</li>
      </ul>
    </div>
    
  </div>
</div>
   <!-- ===== PRICING: SUBSCRIPTION ===== -->
<section id="pricing" style="margin-top:100px;">
  <div style="max-width:1100px;margin:0 auto;padding:40px 20px;background:rgba(255,255,255,0.03);border-radius:20px;">
    <h2 style="text-align:center;font-size:28px;margin:0 0 10px;">–¢–∞—Ä–∏—Ñ—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –ê–Ω–Ω–∞</h2>
    <p style="text-align:center;opacity:.8;margin:0 0 30px;">–û—Ç —É–º–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞ –¥–æ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥ –∫–ª—é—á</p>

    <div style="display:grid;grid-template-columns:repeat(3,minmax(260px,1fr));gap:20px;">
      <!-- Card: –£–º–Ω—ã–π —Å–∞–π—Ç -->
      <div style="position:relative;background:rgba(255,255,255,0.05);border:1px solid rgba(0,242,255,.3);border-radius:16px;padding:24px;display:flex;flex-direction:column;">
        <h3 style="margin:0 0 6px;color:#00f2ff;font-size:22px;">–£–º–Ω—ã–π —Å–∞–π—Ç</h3>
        <div style="font-size:24px;font-weight:800;margin:6px 0 14px;">4 900 ‚ÇΩ/–º–µ—Å</div>
        <ul style="list-style:none;padding:0;margin:0 0 18px;line-height:1.6;opacity:.95">
          <li>‚úî –ì–æ–ª–æ—Å–æ–≤–æ–π –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –≤–∏–¥–∂–µ—Ç 24/7</li>
          <li>‚úî –õ–∏–¥-—Ñ–æ—Ä–º–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫</li>
          <li>‚úî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM</li>
        </ul>
        <button onclick="chooseTariff('–£–º–Ω—ã–π —Å–∞–π—Ç')" style="margin-top:auto;width:100%;padding:12px;border:none;border-radius:10px;background:#00f2ff;color:#000;font-weight:700;cursor:pointer;">–ü–æ–¥–∫–ª—é—á–∏—Ç—å</button>
      </div>

      <!-- Card: –ú—É–ª—å—Ç–∏–∫–∞–Ω–∞–ª (–ü–æ–ø—É–ª—è—Ä–Ω—ã–π) -->
      <div style="position:relative;background:rgba(255,255,255,0.07);border:1px solid rgba(0,242,255,.6);border-radius:16px;padding:24px;box-shadow:0 0 24px rgba(0,242,255,.14);display:flex;flex-direction:column;">
        <div style="position:absolute;top:-10px;right:16px;background:#00f2ff;color:#000;font-weight:800;font-size:12px;padding:5px 10px;border-radius:999px;">üî• –ü–æ–ø—É–ª—è—Ä–Ω—ã–π</div>
        <h3 style="margin:0 0 6px;color:#00f2ff;font-size:22px;">–ú—É–ª—å—Ç–∏–∫–∞–Ω–∞–ª</h3>
        <div style="font-size:24px;font-weight:800;margin:6px 0 14px;">9 900 ‚ÇΩ/–º–µ—Å</div>
        <ul style="list-style:none;padding:0;margin:0 0 18px;line-height:1.6;opacity:.95">
          <li>‚úî –í—Å—ë –∏–∑ ¬´–£–º–Ω–æ–≥–æ —Å–∞–π—Ç–∞¬ª</li>
          <li>‚úî + WhatsApp, Telegram, –í–ö, Avito</li>
          <li>‚úî –í—Å–µ –∑–∞—è–≤–∫–∏ —Å—Ç–µ–∫–∞—é—Ç—Å—è –≤ CRM</li>
        </ul>
        <button onclick="chooseTariff('–ú—É–ª—å—Ç–∏–∫–∞–Ω–∞–ª')" style="margin-top:auto;width:100%;padding:12px;border:none;border-radius:10px;background:#00f2ff;color:#000;font-weight:700;cursor:pointer;">–ü–æ–¥–∫–ª—é—á–∏—Ç—å</button>
      </div>

      <!-- Card: Enterprise -->
      <div style="position:relative;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,.18);border-radius:16px;padding:24px;display:flex;flex-direction:column;">
        <h3 style="margin:0 0 6px;color:#00f2ff;font-size:22px;">Enterprise</h3>
        <div style="font-size:24px;font-weight:800;margin:6px 0 14px;">–æ—Ç 29 000 ‚ÇΩ/–º–µ—Å</div>
        <ul style="list-style:none;padding:0;margin:0 0 18px;line-height:1.6;opacity:.95">
          <li>‚úî –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π –≥–æ–ª–æ—Å</li>
          <li>‚úî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: 1–°, Bitrix24, AmoCRM</li>
          <li>‚úî –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∏ SLA</li>
        </ul>
        <button onclick="chooseTariff('Enterprise')" style="margin-top:auto;width:100%;padding:12px;border:none;border-radius:10px;background:#00f2ff;color:#000;font-weight:700;cursor:pointer;">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
      </div>
    </div>

    <div style="margin-top:26px;text-align:center;font-size:15px;opacity:.9;">
      <b>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –¢–µ–ª–µ—Ñ–æ–Ω–∏—è ‚Äî +2 900 ‚ÇΩ/–º–µ—Å</b><br>
      –ü—Ä–∏—ë–º/–∏—Å—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏. –ê–Ω–Ω–∞ –±–µ—Ä—ë—Ç –∑–≤–æ–Ω–∫–∏ –≤–º–µ—Å—Ç–æ –∫–æ–ª–ª-—Ü–µ–Ω—Ç—Ä–∞, —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –∏ –∑–∞—è–≤–∫–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ CRM.
    </div>
  </div>
</section>
<!-- ===== /PRICING: SUBSCRIPTION ===== -->

<!-- ===== PRICING: IMPLEMENTATION (ONE-TIME) ===== -->
<section id="implementation" style="margin-top:24px;">
  <div style="max-width:1100px;margin:0 auto;padding:32px 20px;background:rgba(255,255,255,0.02);border-radius:16px;">
    <h3 style="text-align:center;font-size:22px;margin:0 0 18px;color:#00f2ff;">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ (—Ä–∞–∑–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂)</h3>

    <div style="display:grid;grid-template-columns:repeat(3,minmax(260px,1fr));gap:20px;">
      <!-- –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ -->
      <div style="background:rgba(255,255,255,0.05);border:1px solid rgba(0,242,255,.25);border-radius:14px;padding:20px;">
        <div style="font-weight:800;margin-bottom:8px;">–ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫</div>
        <div style="font-size:20px;font-weight:800;margin-bottom:12px;">–æ—Ç 20 000 ‚ÇΩ</div>
        <ul style="list-style:none;padding:0;margin:0;line-height:1.6;opacity:.95">
          <li>‚úî –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ –Ω–∞ –≤–∞—à —Å–∞–π—Ç</li>
          <li>‚úî –ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ê–Ω–Ω—ã</li>
          <li>‚úî –°–≤—è–∑–∫–∞ —Å CRM/—Ç–∞–±–ª–∏—Ü–µ–π</li>
        </ul>
      </div>

      <!-- –°–∞–π—Ç + –ê–Ω–Ω–∞ -->
      <div style="background:rgba(255,255,255,0.06);border:1px solid rgba(0,242,255,.4);border-radius:14px;padding:20px;box-shadow:0 0 20px rgba(0,242,255,.12);">
        <div style="font-weight:800;margin-bottom:8px;">–°–∞–π—Ç —Å –ê–Ω–Ω–æ–π</div>
        <div style="font-size:20px;font-weight:800;margin-bottom:12px;">120 000 ‚Äì 150 000 ‚ÇΩ</div>
        <ul style="list-style:none;padding:0;margin:0;line-height:1.6;opacity:.95">
          <li>‚úî –õ–µ–Ω–¥–∏–Ω–≥ –ø–æ–¥ –≤–∞—à –±–∏–∑–Ω–µ—Å</li>
          <li>‚úî –ì–æ–ª–æ—Å/—Ç–µ–∫—Å—Ç, —Ñ–æ—Ä–º—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</li>
          <li>‚úî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π</li>
        </ul>
      </div>

      <!-- Enterprise –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ -->
      <div style="background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,.18);border-radius:14px;padding:20px;">
        <div style="font-weight:800;margin-bottom:8px;">Enterprise-–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ</div>
        <div style="font-size:20px;font-weight:800;margin-bottom:12px;">–æ—Ç 200 000 ‚ÇΩ</div>
        <ul style="list-style:none;padding:0;margin:0;line-height:1.6;opacity:.95">
          <li>‚úî –°–≤–æ–∏ —Å–µ—Ä–≤–µ—Ä–∞ / –∫–∞—Å—Ç–æ–º-–≥–æ–ª–æ—Å</li>
          <li>‚úî –ì–ª—É–±–æ–∫–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (1–°, Bitrix –∏ –¥—Ä.)</li>
          <li>‚úî –ü—Ä–æ—Ü–µ—Å—Å—ã, –¥–æ—Å—Ç—É–ø—ã, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</li>
        </ul>
      </div>
    </div>

    <p style="text-align:center;margin:18px 0 0;opacity:.8;font-size:14px;">
      * –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Äî —Ä–∞–∑–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂. –ü–æ–¥–ø–∏—Å–∫–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ç–∞—Ä–∏—Ñ—É.
    </p>
  </div>
</section>
<!-- ===== /PRICING: IMPLEMENTATION ===== -->

<!-- Mobile stack fix -->
<style>
  @media (max-width: 900px){
    #pricing > div, #implementation > div{padding:28px 16px}
    #pricing div[style*="grid-template-columns"], #implementation div[style*="grid-template-columns"]{
      grid-template-columns:1fr; 
    }
  }
</style>
  
<!-- ===== READY SOLUTIONS (SCROLL ROW) ===== -->
<section id="ready-solutions" style="margin-top:100px; position:relative;">
  <div style="max-width:1100px;margin:0 auto;padding:40px 20px;background:rgba(255,255,255,0.03);border-radius:20px;">
    <h2 style="text-align:center;font-size:28px;margin:0 0 24px;">–ì–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞</h2>

    <!-- —Å—Ç—Ä–µ–ª–∫–∏ -->
    <button id="solPrev" aria-label="prev"
      style="position:absolute;left:10px;top:50%;transform:translateY(-50%);width:40px;height:40px;border:none;border-radius:50%;
             background:rgba(0,242,255,.25);color:#000;cursor:pointer;backdrop-filter:blur(4px);z-index:2;">‚Äπ</button>
    <button id="solNext" aria-label="next"
      style="position:absolute;right:10px;top:50%;transform:translateY(-50%);width:40px;height:40px;border:none;border-radius:50%;
             background:rgba(0,242,255,.25);color:#000;cursor:pointer;backdrop-filter:blur(4px);z-index:2;">‚Ä∫</button>

    <!-- –ø–æ–ª–æ—Å–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ -->
    <div id="solutionsRow"
         style="display:flex;gap:20px;overflow-x:auto;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;padding-bottom:10px;
                scroll-snap-type:x mandatory;">
      <!-- –ø—Ä—è—á–µ–º –ø–æ–ª–æ—Å–∫—É, –Ω–æ —Å–∫—Ä–æ–ª–ª —Ä–∞–±–æ—Ç–∞–µ—Ç -->
      <style>
        #solutionsRow::-webkit-scrollbar{height:8px;}
        #solutionsRow::-webkit-scrollbar-thumb{background:rgba(0,242,255,.25);border-radius:8px;}
        @media (min-width:1180px){ /* 5 –∫–∞—Ä—Ç–æ—á–µ–∫ —Ä–æ–≤–Ω–æ –≤ —Ä—è–¥ –±–µ–∑ —Å–∫—Ä–æ–ª–ª–∞ */
          #solutionsRow{overflow-x:visible;}
        }
      </style>

      <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ -->
      <div style="flex:0 0 20%; min-width:220px; scroll-snap-align:start;
                  background:rgba(255,255,255,0.05);border:1px solid rgba(0,242,255,.3);border-radius:14px;padding:20px;text-align:center;">
        <img src="https://img.icons8.com/ios-filled/50/00f2ff/domain.png" style="width:40px;margin-bottom:12px;">
        <h3 style="margin:0 0 8px;color:#00f2ff;font-size:18px;">–í–∏–¥–∂–µ—Ç –Ω–∞ –Ω–∞—à–µ–º —Å–∞–π—Ç–µ</h3>
        <div style="font-size:16px;font-weight:700;margin-bottom:8px;">2 900 ‚ÇΩ/–º–µ—Å</div>
        <p style="opacity:.85;font-size:13px;">–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –±–µ–∑ –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞</p>
      </div>

      <div style="flex:0 0 20%; min-width:220px; scroll-snap-align:start;
                  background:rgba(255,255,255,0.05);border:1px solid rgba(0,242,255,.3);border-radius:14px;padding:20px;text-align:center;">
        <img src="https://img.icons8.com/ios-filled/50/00f2ff/whatsapp.png" style="width:40px;margin-bottom:12px;">
        <h3 style="margin:0 0 8px;color:#00f2ff;font-size:18px;">WhatsApp –±–æ—Ç</h3>
        <div style="font-size:16px;font-weight:700;margin-bottom:8px;">3 900 ‚ÇΩ/–º–µ—Å</div>
        <p style="opacity:.85;font-size:13px;">–û—Ç–≤–µ—Ç—ã –∏ –∑–∞—è–≤–∫–∏ –≤ WhatsApp</p>
      </div>

      <div style="flex:0 0 20%; min-width:220px; scroll-snap-align:start;
                  background:rgba(255,255,255,0.05);border:1px solid rgba(0,242,255,.3);border-radius:14px;padding:20px;text-align:center;">
        <img src="https://img.icons8.com/ios-filled/50/00f2ff/telegram-app.png" style="width:40px;margin-bottom:12px;">
        <h3 style="margin:0 0 8px;color:#00f2ff;font-size:18px;">Telegram –±–æ—Ç</h3>
        <div style="font-size:16px;font-weight:700;margin-bottom:8px;">3 900 ‚ÇΩ/–º–µ—Å</div>
        <p style="opacity:.85;font-size:13px;">–ë–æ—Ç —Å –≥–æ–ª–æ—Å–æ–º –∏ —Ç–µ–∫—Å—Ç–æ–º –≤ Telegram</p>
      </div>

      <div style="flex:0 0 20%; min-width:220px; scroll-snap-align:start;
                  background:rgba(255,255,255,0.05);border:1px solid rgba(0,242,255,.3);border-radius:14px;padding:20px;text-align:center;">
        <img src="https://img.icons8.com/ios-filled/50/00f2ff/vk-circled.png" style="width:40px;margin-bottom:12px;">
        <h3 style="margin:0 0 8px;color:#00f2ff;font-size:18px;">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ –±–æ—Ç</h3>
        <div style="font-size:16px;font-weight:700;margin-bottom:8px;">4 900 ‚ÇΩ/–º–µ—Å</div>
        <p style="opacity:.85;font-size:13px;">–ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫ –∏ –∑–∞—è–≤–∫–∏ –≤–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ</p>
      </div>

      <div style="flex:0 0 20%; min-width:220px; scroll-snap-align:start;
                  background:rgba(255,255,255,0.05);border:1px solid rgba(0,242,255,.3);border-radius:14px;padding:20px;text-align:center;">
        <img src="https://img.icons8.com/ios-filled/50/00f2ff/domain.png" style="width:40px;margin-bottom:12px;">
        <h3 style="margin:0 0 8px;color:#00f2ff;font-size:18px;">Avito –±–æ—Ç</h3>
        <div style="font-size:16px;font-weight:700;margin-bottom:8px;">4 900 ‚ÇΩ/–º–µ—Å</div>
        <p style="opacity:.85;font-size:13px;">–ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã –∏ —Å–±–æ—Ä –ª–∏–¥–æ–≤ —Å Avito</p>
      </div>
    </div>
  </div>
</section>

<script>
  (function(){
    const row = document.getElementById('solutionsRow');
    const prev = document.getElementById('solPrev');
    const next = document.getElementById('solNext');
    const step = 260; // —à–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ + gap

    prev.onclick = ()=> row.scrollBy({left:-step, behavior:'smooth'});
    next.onclick = ()=> row.scrollBy({left: step, behavior:'smooth'});

    // drag-to-scroll –º—ã—à—å—é
    let isDown=false, startX, scrollLeft;
    row.addEventListener('mousedown',e=>{isDown=true; startX=e.pageX-row.offsetLeft; scrollLeft=row.scrollLeft;});
    row.addEventListener('mouseleave',()=>isDown=false);
    row.addEventListener('mouseup',()=>isDown=false);
    row.addEventListener('mousemove',e=>{
      if(!isDown) return;
      e.preventDefault();
      const x=e.pageX-row.offsetLeft;
      row.scrollLeft = scrollLeft - (x-startX);
    });
  })();
</script>
<!-- ===== /READY SOLUTIONS ===== -->

</div>
  <script>
    function switchTab(type) {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
      document.querySelector('.tab-button[onclick*="' + type + '"]').classList.add('active');
      document.getElementById(type).classList.add('active');
    }
    function sendHotkey(message) {
      const isVoice = document.getElementById('voice').classList.contains('active');
      const mode = isVoice ? '–ì–æ–ª–æ—Å–æ–≤–æ–π –±–æ—Ç' : '–¢–µ–∫—Å—Ç–æ–≤—ã–π –±–æ—Ç';
      alert(`–°–æ–æ–±—â–µ–Ω–∏–µ –≤ ${mode}: ${message}`);
    }
    function startVoiceDialog() {
      const status = document.getElementById('voice-status');
      const waveform = document.getElementById('waveform');
      status.innerText = '–î–∏–∞–ª–æ–≥ –Ω–∞—á–∞—Ç. –ì–æ–≤–æ—Ä–∏—Ç–µ...';
      waveform.classList.add('listening');
    }
  </script>
  <script>
const OPENAI_PROXY_URL = "https://openai-gpt-proxy-mcnj.onrender.com/gpt";
const ELEVENLABS_STREAM_URL = "https://elevenlabs-proxy-1o1s.onrender.com/stream";
const LEAD_URL = "https://openai-gpt-proxy-mcnj.onrender.com/lead";

const chatBox = document.querySelector(".chat-box");
const chatInput = document.querySelector(".chat-input");
const micButton = document.querySelector(".mic-button");

let messages = [];
let userId = localStorage.getItem("userId") || "user_" + Math.random().toString(36).substr(2, 9);
localStorage.setItem("userId", userId);

function sendMessage() {
  if (!chatInput || chatInput.disabled) return;
  const text = chatInput.value.trim();
  if (!text) return;

  appendMessage(text, true);
  messages.push({ role: "user", content: text });
  chatInput.value = "";

  fetch(OPENAI_PROXY_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      messages,           // ‚ö°Ô∏è –≤—Å–µ–≥–¥–∞ –≤—Å—è –∏—Å—Ç–æ—Ä–∏—è
      userId,
      mode: "text"
    })
  })
    .then(res => res.json())
    .then(data => {
      const reply = data?.choices?.[0]?.message?.content || "–û—à–∏–±–∫–∞";
      appendMessage(reply, false);
      messages.push({ role: "assistant", content: reply });

     if (data?.triggerForm || (reply && reply.includes("[openLeadForm]"))) {
  document.getElementById("leadTitle").innerText = reply.replace("[openLeadForm]", "").trim();
  document.getElementById("leadPopup").style.display = "block";
  document.getElementById("leadOverlay").style.display = "block";
}
    })
    .catch(err => {
      appendMessage("–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞", false);
      console.error(err);
    });
}

function appendMessage(text, isUser) {
  const msg = document.createElement("div");
  msg.className = "message " + (isUser ? "from-user" : "from-bot");
  msg.style.cssText =
    "margin-bottom:10px;padding:8px 12px;border-radius:10px;max-width:80%;" +
    (isUser ? "background:#00f2ff33;align-self:flex-end;" : "background:#ffffff22;align-self:flex-start;");

  // –µ—Å–ª–∏ –±–æ—Ç –ø—Ä–∏—Å–ª–∞–ª [openLeadForm] ‚Üí —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
  if (!isUser && text.includes("[openLeadForm]")) {
    document.getElementById("leadTitle").innerText = text.replace("[openLeadForm]", "").trim();
    document.getElementById("leadPopup").style.display = "block";
    document.getElementById("leadOverlay").style.display = "block";
    // —É–±–∏—Ä–∞–µ–º —Ç–µ–≥ –∏–∑ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    msg.innerText = text.replace("[openLeadForm]", "").trim();
  } else {
    msg.innerText = text;
  }

  chatBox.appendChild(msg);
  chatBox.scrollTop = chatBox.scrollHeight;
}

function startTextVoice() {
  const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  recognition.lang = "ru-RU";
  recognition.start();
  recognition.onresult = (event) => {
    const text = event.results[0][0].transcript;
    chatInput.value = text;
    sendMessage();
  };
  recognition.onerror = () => {
    alert("–û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è");
  };
}

let recognition;
let isListening = false;

function startVoiceDialog() {
  const status = document.getElementById("voice-status");
  const waveform = document.getElementById("waveform");
  const micBtn = document.querySelector(".mic-button");

  if (isListening) {
    // —Å—Ç–æ–ø
    recognition.stop();
    status.innerText = "–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å";
    waveform.classList.remove("listening");
    micBtn.style.backgroundImage = "url('https://img.icons8.com/ios-filled/50/ffffff/microphone.png')";
    isListening = false;
    return;
  }

  // —Å—Ç–∞—Ä—Ç
  recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  recognition.lang = "ru-RU";
  recognition.continuous = true;
  recognition.interimResults = false;

  recognition.onstart = () => {
    status.innerText = "üé§ –°–ª—É—à–∞—é...";
    waveform.classList.add("listening");
    micBtn.style.backgroundImage = "url('https://img.icons8.com/ios-filled/50/ffffff/stop.png')";
    isListening = true;
  };

  recognition.onresult = async (event) => {
  const text = event.results[event.results.length - 1][0].transcript;
  status.innerText = "üó£ " + text;

  messages.push({ role: "user", content: text });

  try {
    const res = await fetch(OPENAI_PROXY_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        messages,
        userId,
        mode: "voice"
      })
    });

    const data = await res.json();
    const reply = data?.choices?.[0]?.message?.content || "–û—à–∏–±–∫–∞";

    // üî• –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ [openLeadForm]
    if (reply.includes("[openLeadForm]") || data?.triggerForm) {
      document.getElementById("leadTitle").innerText = reply.replace("[openLeadForm]", "").trim();
      document.getElementById("leadPopup").style.display = "block";
      document.getElementById("leadOverlay").style.display = "block";
    }

    messages.push({ role: "assistant", content: reply });
    speakText(reply);
  } catch (err) {
    console.error("–û—à–∏–±–∫–∞ GPT:", err);
  }
};

  recognition.onend = () => {
    if (isListening) {
      // –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–º, speakText —Å–∞–º —Ä–µ—Å—Ç–∞—Ä—Ç—É–µ—Ç
    }
  };

  recognition.start();
}

async function speakText(text) {
  try {
    if (recognition && isListening) {
      recognition.stop(); // —Å—Ç–æ–ø–∞–µ–º –ø–æ–∫–∞ –≥–æ–≤–æ—Ä–∏–º
    }

    const r = await fetch(ELEVENLABS_STREAM_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ text })
    });

    if (!r.ok) {
      console.error("TTS bad status:", r.status);
      return;
    }

    const blob = await r.blob();
    const url  = URL.createObjectURL(blob);
    const a    = new Audio(url);
    a.playsInline = true;

    a.onended = () => {
      URL.revokeObjectURL(url);
      // üî• —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–µ—á–∏ ‚Äî —Å–Ω–æ–≤–∞ —Å—Ç–∞—Ä—Ç—É–µ–º –º–∏–∫—Ä–æ—Ñ–æ–Ω
      if (isListening && recognition) {
        recognition.start();
      }
    };

    await a.play().catch(()=>{});
  } catch (e) {
    console.error("speakText error:", e?.message || e);
  }
}
</script>
 <div class="integration-block" style="margin-top: 100px; background-color: rgba(255,255,255,0.03); border-radius: 20px; padding: 40px 20px; text-align: center;">
  <h2 style="font-size: 26px; color: #00f2ff; margin-bottom: 20px;">–ê–Ω–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–º, –≥–¥–µ –≤–∞—à–∏ –∫–ª–∏–µ–Ω—Ç—ã</h2>
  <p style="font-size: 16px; opacity: 0.85; max-width: 600px; margin: 0 auto 30px;">
    Telegram, WhatsApp, –í–ö–æ–Ω—Ç–∞–∫—Ç–µ, Avito –∏ –¥—Ä—É–≥–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã, –ø—Ä–æ–¥–∞—ë—Ç –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–¥–µ–ª–∫–∏ –≤ CRM.
  </p>
  <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 20px; margin-bottom: 30px;">
    <img src="https://img.icons8.com/ios-filled/50/00f2ff/telegram-app.png" width="40" alt="Telegram"/>
    <img src="https://img.icons8.com/ios-filled/50/00f2ff/whatsapp.png" width="40" alt="WhatsApp"/>
    <img src="https://img.icons8.com/ios-filled/50/00f2ff/vk-circled.png" width="40" alt="VK"/>
    <img src="https://img.icons8.com/ios-filled/50/00f2ff/domain.png" width="40" alt="Avito"/>
    <img src="https://img.icons8.com/ios-filled/50/00f2ff/api.png" width="40" alt="API"/>
  </div>
  <form id="integrationForm" style="display: flex; flex-direction: column; align-items: center; gap: 12px; max-width: 400px; margin: 0 auto;">
    <input type="text" id="intName" placeholder="–í–∞—à–µ –∏–º—è" required style="width: 100%; padding: 10px; border-radius: 8px; border: none;" />
    <input type="tel" id="intPhone" placeholder="+7 (___) ___-__-__" required style="width: 100%; padding: 10px; border-radius: 8px; border: none;" />
    <textarea id="intMessage" rows="3" placeholder="–í–∞—à –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∑–∞–¥–∞—á–∞" style="width: 100%; padding: 10px; border-radius: 8px; border: none;"></textarea>
    <button type="submit" style="padding: 12px 24px; background-color: #00f2ff; color: #000; border: none; border-radius: 8px; font-size: 16px; cursor: pointer;">
      –°–≤—è–∑–∞—Ç—å—Å—è —Å –æ—Ç–¥–µ–ª–æ–º –ø—Ä–æ–¥–∞–∂
    </button>
  </form>
</div>

<script>
  document.getElementById("integrationForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const name = document.getElementById("intName").value.trim();
    let phone = document.getElementById("intPhone").value.replace(/\D/g, "");
    const message = document.getElementById("intMessage").value.trim();

    if (!name || phone.length < 10) {
      alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω");
      return;
    }

    phone = "+7" + phone.slice(-10);

    const userId = localStorage.getItem("userId") || "user_" + Math.random().toString(36).substr(2, 9);

    const payload = {
      name,
      phone,
      userId,
      messages: [{ role: "user", content: message }]
    };

    try {
      await fetch("https://openai-gpt-proxy-mcnj.onrender.com/lead", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });

      // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "—Å–ø–∞—Å–∏–±–æ"
      document.getElementById("leadThanks").style.display = "block";
      document.getElementById("leadOverlay").style.display = "block";

      // –æ—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
      e.target.reset();

      // –∑–∞–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ 3 —Å–µ–∫
      setTimeout(() => {
        document.getElementById("leadThanks").style.display = "none";
        document.getElementById("leadOverlay").style.display = "none";
      }, 3000);

    } catch (err) {
      console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:", err);
      alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏");
    }
  });
</script>

<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–∞—Å–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
<script src="https://unpkg.com/imask"></script>
<script>
  const phoneMask = IMask(document.getElementById('phone'), {
    mask: '+{7} (000) 000-00-00'
  });
</script>
<!-- –§—É—Ç–µ—Ä -->
<div class="footer">
  <div class="section">
    <div class="column">
      <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
      <div>üìû <a href="tel:+79937480725">+7 993 748-07-25</a> (WhatsApp)</div>
      <div>üí¨ Telegram: <a href="https://t.me/Anna_Marketing33">@Anna_Marketing33</a></div>
      <div>‚úâÔ∏è <a href="mailto:ann4-marketing@yandex.ru">ann4-marketing@yandex.ru</a></div>
    </div>
    <div class="column">
      <h3>–†–µ–∫–≤–∏–∑–∏—Ç—ã</h3>
      <div>–ò–ü –§–µ—Å—å–∫–æ–≤–∞ –ê–Ω–Ω–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞</div>
      <div>–û–ì–†–ù–ò–ü: 323330000039272</div>
      <div>–ò–ù–ù: 333802711900</div>
      <div>–Æ—Ä. –∞–¥—Ä–µ—Å: –≥. –í–ª–∞–¥–∏–º–∏—Ä, —É–ª. –ü–æ–ª–∏–Ω—ã –û—Å–∏–ø–µ–Ω–∫–æ, –¥. 21</div>
      <div class="bank-toggle" onclick="toggleBank()">–ü–æ–∫–∞–∑–∞—Ç—å –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</div>
      <div class="bank-details" id="bank">
        <div>–†/—Å: 40802810320000069222</div>
        <div>–ë–∞–Ω–∫: –û–û–û "–ë–∞–Ω–∫ –¢–æ—á–∫–∞"</div>
        <div>–ë–ò–ö: 044525104</div>
        <div>–ö/—Å: 30101810745374525104</div>
      </div>
    </div>
  </div>
</div>

<!-- –°—Ç–∏–ª–∏ —Ñ—É—Ç–µ—Ä–∞ -->
<style>
  .footer {
    background-color: rgba(255, 255, 255, 0.02);
    padding: 40px 20px;
    border-top: 1px solid rgba(255,255,255,0.1);
    font-size: 14px;
    color: #fff;
  }
  .footer h3 {
    color: #00f2ff;
    margin-bottom: 20px;
    font-size: 18px;
  }
  .footer a {
    color: #00f2ff;
    text-decoration: none;
  }
  .footer a:hover {
    text-decoration: underline;
  }
  .footer .section {
    max-width: 1000px;
    margin: 0 auto;
    display: flex;
    flex-direction: row;
    gap: 60px;
    justify-content: space-between;
    flex-wrap: wrap;
  }
  .footer .column {
    flex: 1;
    min-width: 280px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  .bank-toggle {
    margin-top: 10px;
    color: #00f2ff;
    cursor: pointer;
  }
  .bank-details {
    display: none;
    margin-top: 10px;
    opacity: 0.7;
  }
  @media (max-width: 768px) {
    .footer .section {
      flex-direction: column;
      gap: 30px;
    }
  }
</style>

<!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ü–æ–∫–∞–∑–∞—Ç—å –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã" -->
<script>
  function toggleBank() {
    const el = document.getElementById('bank');
    el.style.display = el.style.display === 'block' ? 'none' : 'block';
  }
</script>
<!-- –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ -->
<div id="leadOverlay" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:100010;"></div>

<!-- —Ñ–æ—Ä–º–∞ -->
<div id="leadPopup" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background-color:#111; color:#fff; padding:20px; border-radius:16px; z-index:100020; max-width:400px; width:90%; box-shadow:0 0 20px #00f2ff;">
  <div id="leadTitle" style="margin-bottom:15px; font-size:16px; line-height:1.4;"></div>
  <input id="leadName" placeholder="–í–∞—à–µ –∏–º—è" style="width:100%; padding:10px; border-radius:8px; border:none; margin-bottom:10px;" />
  <input id="leadPhone" placeholder="+7 (___) ___-__-__" style="width:100%; padding:10px; border-radius:8px; border:none; margin-bottom:10px;" />
  <button id="leadSubmitBtn" style="width:100%; padding:12px; border:none; border-radius:8px; background-color:#00f2ff; color:#000; font-weight:bold; cursor:pointer;">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
</div>

<!-- –æ–∫–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ -->
<div id="leadThanks" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background-color:#111; color:#fff; padding:20px; border-radius:16px; z-index:100030; max-width:400px; width:90%; box-shadow:0 0 20px #00f2ff; text-align:center;">
  <div style="font-size:16px; line-height:1.4;">‚úÖ –°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞—è–≤–∫—É, —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏</div>
</div>

<script src="https://unpkg.com/imask"></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    IMask(document.getElementById("leadPhone"), {
      mask: "+{7} (000) 000-00-00"
    });

    // –∑–∞–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É/—Å–ø–∞—Å–∏–±–æ –∫–ª–∏–∫–æ–º –Ω–∞ —Ñ–æ–Ω
    document.getElementById("leadOverlay").addEventListener("click", () => {
      document.getElementById("leadPopup").style.display = "none";
      document.getElementById("leadThanks").style.display = "none";
      document.getElementById("leadOverlay").style.display = "none";
    });

    document.getElementById("leadSubmitBtn").addEventListener("click", async (e) => {
      e.preventDefault();
      const btn = e.target;
      if (btn.disabled) return;
      btn.disabled = true;

      const name = document.getElementById("leadName").value.trim();
      let phone = document.getElementById("leadPhone").value.replace(/\D/g, "");

      if (!name || phone.length < 10) {
        alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞");
        btn.disabled = false;
        return;
      }

      if (!Array.isArray(messages)) {
  alert("–û—à–∏–±–∫–∞: –Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞");
  btn.disabled = false;
  return;
}

      // –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–æ–º–µ—Ä
      phone = "+7" + phone.slice(-10);

      const payload = { name, phone, userId, messages };

      // —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–∞—Å–∏–±–æ
      document.getElementById("leadPopup").style.display = "none";
      document.getElementById("leadThanks").style.display = "block";
      document.getElementById("leadOverlay").style.display = "block";

      // —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –∑–∞–∫—Ä—ã–≤–∞–µ–º
      setTimeout(() => {
        document.getElementById("leadOverlay").style.display = "none";
        document.getElementById("leadThanks").style.display = "none";
        document.getElementById("leadName").value = "";
        document.getElementById("leadPhone").value = "";
      }, 3000);

      // –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä
      try {
        await fetch("https://openai-gpt-proxy-mcnj.onrender.com/lead", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
      } catch (err) {
        console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:", err);
      } finally {
        btn.disabled = false;
      }
    });
  });
</script>
  <style>
  .ai-float-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 70px;
    height: 70px;
    background-color: transparent;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    z-index: 99999;
    padding: 0;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
  }

  .ai-float-button img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
  }

  #ai-chat-frame {
    position: fixed;
    bottom: 20px;
    right: 100px;
    width: 340px;
    height: 520px;
    border: none;
    border-radius: 16px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
    z-index: 99998;
    display: none;
  }

  @media (max-width: 768px) {
    #ai-chat-frame {
      bottom: 100px;
      right: 20px;
    }
  }
</style>

<script>
  window.onload = function () {
    const button = document.createElement('button');
    button.className = 'ai-float-button';
    button.title = '–û—Ç–∫—Ä—ã—Ç—å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞';

    const img = document.createElement('img');
    img.src = 'https://i.postimg.cc/mgP268Zt/96f08734-0442-48ea-bd9e-e3e25cb92060-1.png';
    img.alt = 'AI';

    button.appendChild(img);

    const iframe = document.createElement('iframe');
    iframe.id = 'ai-chat-frame';
    iframe.src = 'https://gpt-widget-4f6q.onrender.com?mode=text';
    iframe.allow = 'microphone';

    button.onclick = function () {
      iframe.style.display = (iframe.style.display === 'block') ? 'none' : 'block';
    };

    document.body.appendChild(button);
    document.body.appendChild(iframe);

   window.addEventListener("message", (event) => {
  const d = event.data;

  // üî• –æ—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–∂–µ—Ç
  if (d === "open-widget" || (d && d.type === "open-widget")) {
    iframe.style.display = "block";
    return;
  }

  // üî• –æ—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É
  if (d === "open-form" || (d && d.type === "open-form")) {
    const ov = document.getElementById("leadOverlay");
    const form = document.getElementById("leadPopup");
    if (ov && form) {
      ov.style.display = "block";
      form.style.display = "block";
    }
    return;
  }
});
  };
</script>
</body>
</html>
